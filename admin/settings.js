jQuery(document).ready((function(e){e(".videoigniter-color-picker").wpColorPicker();const t=document.querySelectorAll(".vi-settings-image-upload");t.forEach((e=>{const t=e.querySelector("button"),i=e.querySelector("input"),s=e.querySelector("img"),a=e.querySelector(".vi-settings-image-upload-dismiss");t.addEventListener("click",(()=>{let t=wp.media.frames["vi-settings-image-upload"];t?t.open():(t=wp.media({title:"Choose image",multiple:!1,library:{type:"image"}}),t.open(),t.on("select",(()=>{const a=t.state().get("selection").first().toJSON();i.value=a.id,s.src=a.url,e.classList.add("vi-settings-image-upload-has-image")})))})),a.addEventListener("click",(t=>{t.preventDefault(),s.src="",i.value="",e.classList.remove("vi-settings-image-upload-has-image")}))}))}));